<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="templete2">
<head>
    <meta charset="UTF-8">
    <title>Liste Des Clients</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="offcanvas.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.2/font/bootstrap-icons.css">
</head>
<body>
    <div layout:fragment="content1">
        <br>
        <br>
        <br>
    <div class="container mt-2">

        <div class="card">
        <div class="card-header">Liste Clients</div>
        <div class="card-body">
            <form method="get" th:action="@{clients}" >
                <label>key word</label>
                <input type="text" name="keyword" th:value="${keyword}"/>
                <button type="submit" class="btn btn-primary" >Chercher</button>

            </form>


            <a th:href="@{/showNewClient}" class="btn btn-success "style="float:right;" data-toggle="modal"><i class="bi bi-plus-circle"></i>    <span>Ajouter Client</span></a>

            <table class="table">
                <thead>
                <tr>
                    <th>ID</th><th>Nom Client</th><th>Adresse</th><th>Cin de Client</th><th>Téléphone</th> <th>Actions</th>
                </tr>
                </thead>
                <body>
                <tr th:each="p:${listeClients}">
                    <td th:text="${p.codeCL}"></td>
                    <td th:text="${p.nomCL}"></td>
                    <td th:text="${p.adresseCL}"></td>
                    <td th:text="${p.Cin}"></td>
                    <td th:text="${p.Tel}"></td>
                    <td>

                        <a onclick="return confirm('Etes vous sure ?')" class="btn btn-outline-danger" th:href="@{delete(codeCL=${p.codeCL},keyword=${keyword},page=${Currentpages})}"> <i class="bi bi-trash3"></i></a>

                        <a  class="btn btn-outline-warning " th:href="@{editClient(codeCL=${p.codeCL},keyword=${keyword},page=${Currentpages})}"> <i class="bi bi-pencil-fill"></i></a>
                    </td>

                </tr>
                </body>
            </table>
            <ul class="nav nav-pills">
                <li th:each="page,status:${pages}">
                    <a  class="btn btn-outline-primary m-lg-1"
                       th:class="${status.index==Currentpages?'btn btn-primary ms-1':'btn btn-outline-primary ms-1'}"
                       th:text="${status.index}"
                    th:href="@{clients(page=${status.index}, keyword=${keyword})}"></a>
                </li>
            </ul>
        </div>
        </div>
    </div>

    </div>
</body>
</html>